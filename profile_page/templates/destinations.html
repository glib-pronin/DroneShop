{% extends 'layout.html' %}
{% block additional_links %} 
    <link rel="stylesheet" href="{{ url_for('profile.static', filename='css/credentials.css') }}">
    <link rel="stylesheet" href="{{ url_for('profile.static', filename='css/destinations.css') }}">
{% endblock %}
{% block page_content %}
    <form action="" method="post" id="contact-form">
        {% if destinations %}
            <h3>Адреса доставки</h3>
            <div class="form-rows-container">
                {% for dst in destinations %}
                    <div class="choose-block">
                        <div class="choose-block-header">
                            <div class="choose-block-header-block">
                                <input type="radio" name="delivery_type" data-id="{{ dst.id }}" {{ 'checked' if dst.checked else '' }}>
                                <p class="choose-block-header-p">{{ dst.city }}, {{ dst.get_short_place() }}</p>
                            </div>
                            <svg class="toggle-body cursor-pointer" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 20.0002H21M16.5 3.50023C16.8978 3.1024 17.4374 2.87891 18 2.87891C18.2786 2.87891 18.5544 2.93378 18.8118 3.04038C19.0692 3.14699 19.303 3.30324 19.5 3.50023C19.697 3.69721 19.8532 3.93106 19.9598 4.18843C20.0665 4.4458 20.1213 4.72165 20.1213 5.00023C20.1213 5.2788 20.0665 5.55465 19.9598 5.81202C19.8532 6.06939 19.697 6.30324 19.5 6.50023L7 19.0002L3 20.0002L4 16.0002L16.5 3.50023Z" stroke="#0C122A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="choose-block-body hide-element">
                            <p class="error-msg hide-element">Сталася помилка! Можливо така адреса вже наявна, або Ви внесли неправильні дані.</p>
                            <div class="form-row">
                                <p>Місто</p>
                                <input type="text" name="city" placeholder="Місто" list="cities-list" value="{{ dst.city }}">
                                <p class="help-find-city">
                                    <span class="help-find-span cursor-pointer">Вінниця</span>
                                    <span class="help-find-span cursor-pointer">Одеса</span>
                                    <span class="help-find-span cursor-pointer">Київ</span>
                                    <span class="help-find-span cursor-pointer">Дніпро</span>
                                    <span class="help-find-span cursor-pointer">Харків</span>
                                    <span class="help-find-span cursor-pointer">Львів</span>
                                </p>
                            </div>
                            <div class="form-row">
                                <p>Відділення / Поштомат</p>
                                <input type="text" name="destination" placeholder="Відділення / Поштомат" list="destinations-list" value="{{ dst.place }}">
                            </div>
                            <button type="button" data-id="{{ dst.id }}" class="save-changes-btn not-allowed-to-submit" disabled>ЗБЕРЕГТИ ЗМІНИ</button>
                        </div>
                    </div>
                {% endfor %}
                <datalist id="cities-list">
                    {% for c in cities %}
                        <option value="{{ c }}">{{ c }}</option>
                    {% endfor %}
                </datalist>
                <datalist id="destinations-list"></datalist>
            </div>
        {% else %}
            <h3 class="empry-section">У Вас ще немає адрес доставок.</h3>
        {% endif %}
    </form>
{% endblock %}
{% block scripts %}
    <script src="{{ url_for('profile.static', filename='js/destination_form.js') }}"></script>
    <script src="{{ url_for('profile.static', filename='js/choosing_destination.js') }}"></script>
{% endblock %}